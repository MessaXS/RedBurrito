# Как работать с RedBurrito + Claude Code

**Этот гайд для тебя, MessaXS. Написан простым языком.**

---

## Что у тебя настроено

```
~/Developer/
├── RedBurrito/          ← Твой проект (Git репозиторий)
│   ├── scripts/         ← Код модов (.reds файлы)
│   ├── docs/            ← Шпаргалки для AI
│   ├── CLAUDE.md        ← Правила для Claude Code
│   └── .cursor/rules    ← Правила для Cursor AI
│
├── cyberpunk/           ← API игры (справочник классов)
├── Redscript-Wiki/      ← Документация Redscript
└── Cyberpunk-Modding-Docs/  ← Гайды по моддингу
```

**Папка scripts/ связана с игрой через symlink:**
```
~/Developer/RedBurrito/scripts/
    ↓ symlink
~/Library/.../Cyberpunk 2077/r6/scripts/RedBurrito/
```

Это значит: изменил файл → перезапустил игру → изменения работают.

---

## Как создать новый мод (Пошагово)

### Шаг 1: Открой терминал в папке проекта
```bash
cd ~/Developer/RedBurrito
```

### Шаг 2: Запусти Claude Code
```bash
claude
```

### Шаг 3: Опиши что хочешь сделать
Например:
```
Хочу сделать мод который при нажатии кнопки Q замедляет время в 10 раз на 5 секунд
```

### Шаг 4: Claude сделает всё за тебя
- Прочитает нужные шпаргалки
- Найдёт подходящий паттерн
- Напишет код
- Создаст файл в scripts/

### Шаг 5: Проверь в игре
1. Перезапусти Cyberpunk 2077
2. Проверь работает ли мод
3. Если ошибки — покажи их Claude

---

## Как добавить новые справочные материалы

### Вариант 1: Новый репозиторий
```bash
cd ~/Developer
git clone https://github.com/xxx/yyy.git
```
Потом скажи Claude:
```
Добавил новый репозиторий ~/Developer/yyy, обнови REFERENCE_INDEX.md
```

### Вариант 2: Новая ссылка на сайт
Просто скажи Claude:
```
Добавь в REDSCRIPT_CAPABILITIES.md ссылку на https://example.com - там есть инфа про XXX
```

### Вариант 3: Новый документ
Скопируй файл в `~/Developer/` и скажи Claude обновить индекс.

---

## Как экономить токены

### Правило 1: Начинай с конкретного запроса
```
❌ Плохо: "Сделай что-нибудь интересное"
✅ Хорошо: "Сделай мод который удваивает скорость бега при зажатом Shift"
```

### Правило 2: Указывай какой файл редактировать
```
❌ Плохо: "Добавь новый чит"
✅ Хорошо: "Добавь в RedBurritoSurvival.reds чит на бесконечные патроны"
```

### Правило 3: Не проси читать всё подряд
Claude уже знает структуру проекта благодаря CLAUDE.md и docs/.

---

## Настройка Cursor

### Что уже настроено:
- `.cursor/rules` — правила для AI
- `.vscode/settings.json` — настройки редактора

### Что нужно проверить:
1. Открой Cursor
2. File → Open Folder → выбери `~/Developer/RedBurrito`
3. Убедись что расширение Claude Code установлено

### Как использовать:
1. Открой любой .reds файл
2. Нажми Cmd+K (или Ctrl+K)
3. Опиши что хочешь изменить
4. AI сгенерирует код

---

## Типичные команды в терминале

### Запустить Claude Code
```bash
cd ~/Developer/RedBurrito && claude
```

### Проверить что изменилось
```bash
git status
```

### Сохранить изменения
```bash
git add -A && git commit -m "Описание изменений"
```

### Отправить на GitHub
```bash
git push
```

### Откатить изменения (если сломал)
```bash
git checkout -- .
```

---

## Если что-то не работает

### Мод не загружается
1. Проверь папку `r6/scripts/RedBurrito/` в игре
2. Проверь логи: `r6/logs/redscript_rCURRENT.log`

### Ошибка компиляции
1. Скопируй ошибку из лога
2. Вставь в Claude: "Помоги исправить эту ошибку: [ошибка]"

### Claude не понимает проект
Скажи: "Прочитай CLAUDE.md и docs/CODE_MAP.md"

---

## Структура документов (что где искать)

| Документ | Для чего |
|----------|----------|
| `CODE_MAP.md` | Карта всего кода проекта |
| `STATS_REFERENCE.md` | Все типы статов игрока |
| `GAME_SYSTEMS.md` | Все игровые системы |
| `REDSCRIPT_SYNTAX.md` | Синтаксис языка |
| `REDSCRIPT_CAPABILITIES.md` | ВСЕ возможности Redscript |
| `INPUT_AND_CNAMES.md` | Кнопки и события |
| `REFERENCE_INDEX.md` | Где что искать |

---

## Пример диалога с Claude

```
Ты: Хочу сделать чит на бесконечные гранаты

Claude: [Читает CODE_MAP.md]
        [Читает STATS_REFERENCE.md]
        [Находит GrenadesChargesRegenMult]
        [Создаёт код в RedBurritoRemoveCDs.reds]

        Готово! Добавил модификатор регенерации гранат.
        Перезапусти игру и используй вендинговый автомат.

Ты: Не работает, вот ошибка: [ошибка]

Claude: [Исправляет ошибку]
```

---

## Автообновление документов

Когда добавляешь что-то новое, скажи Claude:
```
Обнови docs/ с учётом новых изменений
```

Claude автоматически:
1. Обновит CODE_MAP.md если добавлены новые файлы
2. Обновит REFERENCE_INDEX.md если добавлены новые ресурсы
3. Добавит новые паттерны в шпаргалки

---

## Полезные ссылки

- **NativeDB:** https://nativedb.red4ext.com/
- **Redscript Wiki:** https://wiki.redmodding.org/redscript
- **Item IDs:** https://www.nexusmods.com/cyberpunk2077/mods/521
- **Твой репо:** https://github.com/messaxs/RedBurrito

---

## Если остались вопросы

Просто спроси Claude! Он знает весь проект и может объяснить любую часть.
